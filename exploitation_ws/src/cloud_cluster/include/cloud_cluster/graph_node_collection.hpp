#ifndef GRAPHNODECOLLECTION_H
#define GRAPHNODECOLLECTION_H

#include "graph_node.hpp"
#include <rclcpp/rclcpp.hpp>
#include <visualization_msgs/msg/marker_array.hpp>
#include <vector>

class GraphNodeCollection {
public:
    GraphNodeCollection(rclcpp::Node* node);

    void addNode(const GraphNode& node);
    void clear();
    void publishPosMarkers();
    void normalizeGraphNodes();
    const std::vector<GraphNode>& getNodes() const;

private:
    std::vector<GraphNode> nodes;
    rclcpp::Publisher<visualization_msgs::msg::MarkerArray>::SharedPtr markerPub;
    rclcpp::Clock::SharedPtr clock;
};

#endif // GRAPHNODECOLLECTION_H
