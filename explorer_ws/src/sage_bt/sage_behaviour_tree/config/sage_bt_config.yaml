sage_behaviour_tree:
  sage_bt_node:
    ros__parameters:
      bt_tick_rate_ms: 1000.0
      approach_pose_adjustor:
        allow_unknown: true       # bool: helps exploration and frontier regions
        angular_step_deg: 5.0     # double: good balance
        cost_threshold: 60        # int: allows low-inflation cells
        line_step: 0.05           # double: more granular line sampling
        radial_samples: 5         # int: more radius layers to test
        robot_radius: 0.08        # double: slightly smaller footprint
        marker_frame: map
        marker_topic: approach_pose_adjustor/markers
        debug_markers: true       # bool: enable debug markers in RViz
      spin_node:
        spin_timeout: 60.0        # double: timeout for spin action in seconds
      sage_bt:
        startup:
          required_topics:
            - /rgb/throttled
            - /depth/throttled
            - /camera_info
            - /cmd_vel
            - /map
            - /exploration_map
            - /value_map/value_map
          required_services:
            - /exploration_map/clear
            - /value_map/clear

sage_behaviour_tree:
  sage_bt_action_node:
    ros__parameters:
      bt_tick_rate_ms: 1000.0
      # Approach pose adjustor parameters
      approach_pose_adjustor:
        allow_unknown: true       # bool: helps exploration and frontier regions
        angular_step_deg: 5.0     # double: good balance
        cost_threshold: 60        # int: allows low-inflation cells
        line_step: 0.05           # double: more granular line sampling
        radial_samples: 5         # int: more radius layers to test
        robot_radius: 0.08        # double: slightly smaller footprint
        marker_frame: map
        marker_topic: approach_pose_adjustor/markers
        debug_markers: true       # bool: enable debug markers in RViz
      # Spin node parameters
      spin_node:
        spin_timeout: 60.0        # double: timeout for spin action in seconds
        spin_distance_threshold: 2.0  # double: min distance before allowing another spin
      go_to_graph_node:
        approach_radius: 1.0      # double: radius to consider "at goal"
        goal_topic: /goal_pose
        map_frame: map
        robot_frame: base_link
        timeout: 60.0             # double: timeout for go to graph action in seconds
      # Startup requirements for the BT action server
      startup:
        required_topics:
          - /rgb/throttled
          - /depth/throttled
          - /camera_info
          - /cmd_vel
          - /map
          - /exploration_map
          - /value_map/value_map
        required_services:
          - /exploration_map/clear
          - /value_map/clear